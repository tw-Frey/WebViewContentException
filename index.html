<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        input[type=checkbox] {
            vertical-align: top;
            margin-left: -20px;
            margin-right: 0;
            width: 20px;
        }
        input:disabled,
        input:enabled:checked+img {
            display:none;
        }
        hr {
            clear: both;
        }
        button {
            margin-bottom: 5px;
            display: block;
            width: 160px;
        }
    </style>
</head>
<body>
    <img id="qr" style="float: left" width=200 height=200/>
    <div style="display:inline-block">
        <button onclick="location.reload()">重新載入</button>
        <button onclick="abcdefg()">Uncaught ReferenceError</button>
        <button onclick="TimeRanges()">Uncaught TypeError</button>
        <button onclick="throw 'ETMall'">Uncaught ETMall</button>
        <button onclick="fetch('https://aaa.bbb.ccc')">JS AJAX Exception: fetch('https://aaa.bbb.ccc')</button>
        <button onclick="fetch('https://www.google.com')">JS AJAX Exception: fetch('https://www.google.com')</button>
    </div>
    <hr/>
    <span>延遲 1 秒</span><br/>
    <img id="late1_img"/><input type=checkbox id=late1_cb disabled><img id="late1_qr"/><span id="late1_span"></span>
    <hr/>
    <span>延遲 5 秒</span><br/>
    <img id="late5_img"/><input type=checkbox id=late5_cb disabled><img id="late5_qr"/><span id="late5_span"></span>
    <hr/>
    <span>延遲 10 秒</span><br/>
    <img id="late10_img"/><input type=checkbox id=late10_cb disabled><img id="late10_qr"/><span id="late10_span"></span>
    <hr/>
    <span>延遲 20 秒</span><br/>
    <img id="late20_img"/><input type=checkbox id=late20_cb disabled><img id="late20_qr"/><span id="late20_span"></span>
    <hr/>
    <span>延遲 30 秒</span><br/>
    <img id="late30_img"/><input type=checkbox id=late30_cb disabled><img id="late30_qr"/><span id="late30_span"></span>
    <hr/>
    <span>延遲 50 秒</span><br/>
    <img id="late50_img"/><input type=checkbox id=late50_cb disabled><img id="late50_qr"/><span id="late50_span"></span>
    <hr/>
    <span>延遲 59 秒</span><br/>
    <img id="late59_img"/><input type=checkbox id=late59_cb disabled><img id="late59_qr"/><span id="late59_span"></span>
    <hr/>
    <span>延遲 60 秒</span><br/>
    <img id="late60_img"/><input type=checkbox id=late60_cb disabled><img id="late60_qr"/><span id="late60_span"></span>
    <hr/>
    net::ERR_CERT_COMMON_NAME_INVALID<br>
    <img width=300 src=http://www.dshminsu.com/images/top-pic/h-pic-06.jpg><br>
    <a href=http://www.dshminsu.com/images/top-pic/h-pic-06.jpg>http://www.dshminsu.com/images/top-pic/h-pic-06.jpg</a>
    <hr/>
    net::ERR_CERT_COMMON_NAME_INVALID<br>
    <img width=300 src=http://www.dshminsu.com/images/MyPhoto/IMG_2297-min.JPG><br>
    <a href=http://www.dshminsu.com/images/MyPhoto/IMG_2297-min.JPG>http://www.dshminsu.com/images/MyPhoto/IMG_2297-min.JPG</a>
    <hr/>
    net::ERR_CERT_COMMON_NAME_INVALID<br>
    <img width=300 src=http://www.dshminsu.com/images/MyPhoto/IMG_2237-min.JPG><br>
    <a href=http://www.dshminsu.com/images/MyPhoto/IMG_2237-min.JPG>http://www.dshminsu.com/images/MyPhoto/IMG_2237-min.JPG</a>
    <script>
        var chl = encodeURIComponent("etmall://open?pgid=43&url=" + encodeURIComponent("https://tw-frey.github.io/WebViewContentException/"))
        document.getElementById("qr").src="https://chart.googleapis.com/chart?cht=qr&chs=200x200&chl="+chl;
        (()=>{
            const late_span_img = (delay,span,img,qr,cb) => {
                const alts = ["loading","loading.","loading..","loading...","loading...."]
                var i = 0
                var isLoaded = false
                function ALTS(){
                    span.innerHTML = alts[i]
                    i = (i+1) % alts.length
                    if (isLoaded) {
                        span.innerHTML = ""
                        cb.disabled = false
                        return
                    }
                    setTimeout(ALTS, 500)
                }
                setTimeout(ALTS, 500)
                img.onload = () => isLoaded = true
                img.src = "https://deelay.me/"+delay+"/https://picsum.photos/200/200"
                qr.src = "https://deelay.me/"+delay+"/https://chart.googleapis.com/chart?cht=qr&chs=100x100&chl="+encodeURIComponent("etmall://open?pgid=43&url=" + encodeURIComponent("https://deelay.me/"+delay+"/https://picsum.photos/200/200"))
            }
            ["late1","late5","late10","late20","late30","late50","late59","late60"].forEach(prefix=>{
                late_span_img(
                    prefix.slice(4)*1000,
                    document.getElementById(prefix+"_span"),
                    document.getElementById(prefix+"_img"),
                    document.getElementById(prefix+"_qr"),
                    document.getElementById(prefix+"_cb")
                )
            })
        })()
    </script>
</body>
</html>